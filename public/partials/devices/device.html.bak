<div id="content-header">
    <div id="content-header-title">
        <h1>{{device.advertisement.localName}}</h1>
    </div>
</div>

<div id="content-body">

    <h1>General Informations</h1>

    <table class="dataset keyvalue">
        <tbody>
        <tr>
            <td>Identifier</td>
            <td>{{device.id}}</td>
        </tr>
        <tr>
            <td>UUID</td>
            <td>{{device.uuid}}</td>
        </tr>
        <tr>
            <td>RSSI</td>
            <td>{{device.rssi}}</td>
        </tr>
        <tr>
            <td>Created At</td>
            <td>{{reformatDate(device.createAt)}}</td>
        </tr>
        </tbody>
    </table>

    <div id="advertisement-data" ng-show="device.advertisement">
        <h2>Advertisement Informations</h2>

        <table class="dataset keyvalue">
            <tbody>
            <tr>
                <td>Local name</td>
                <td>{{device.advertisement.localName}}</td>
            </tr>
            <tr>
                <td>Tx Power Level</td>
                <td>{{device.advertisement.txPowerLevel}}</td>
            </tr>
            <tr>
                <td>Manufacturer Data</td>
                <td>{{device.advertisement.manufacturerData}}</td>
            </tr>
            <tr>
                <td>Service Data</td>
                <td>{{device.advertisement.serviceData}}</td>
            </tr>
            </tbody>
        </table>

        <div id="beacon-data" ng-show="device.advertisement.beaconData">
            <h3>iBeacon Informations</h3>

            <table class="dataset keyvalue">
                <tbody>
                <tr>
                    <td>Major</td>
                    <td>{{device.beaconData.major}}</td>
                </tr>
                <tr>
                    <td>Minor</td>
                    <td>{{device.beaconData.major}}</td>
                </tr>
                <tr>
                    <td>Measured Power</td>
                    <td>{{device.beaconData.measuredPower}}</td>
                </tr>
                <tr>
                    <td>Accuracy</td>
                    <td>{{device.beaconData.accuracy}}</td>
                </tr>
                <tr>
                    <td>Proximity</td>
                    <td>{{device.beaconData.proximity}}</td>
                </tr>
                </tbody>
            </table>

        </div>

        <div id="service-uuids" ng-show="device.advertisement.serviceUuids">
            <h3>Service UUIDs</h3>

            <table class="dataset keyvalue">
                <tbody>
                <tr ng-repeat="serviceUuid in device.advertisement.serviceUuids">
                    <td>{{serviceUuid}}</td>
                </tr>
                </tbody>
            </table>
        </div>


        <div id="services" ng-show="device.advertisement.services">
            <h3>Services Informations</h3>

            <table class="dataset keyvalue">
                <thead>
                <tr>
                    <th>uuid</th>
                    <th>name</th>
                    <th>type</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="service in device.advertisement.services">
                    <td><a scroll-to='service-{{service.uuid}}'>{{service.uuid}}</a></td>
                    <td>{{service.name}}</td>
                    <td>{{service.type}}</td>
                </tr>
                </tbody>
            </table>

            <div id="service-{{service.uuid}}" ng-repeat="service in device.advertisement.services">
                <h3>Service with uuid: '{{service.uuid}}' Informations</h3>

                <table class="dataset keyvalue">
                    <thead>
                    <tr>
                        <th>uuid</th>
                        <th>name</th>
                        <th>type</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>{{service.uuid}}</td>
                        <td>{{service.name}}</td>
                        <td>{{service.type}}</td>
                    </tr>
                    </tbody>
                </table>

                <h4>Characteristics</h4>

                <div id="service-{{service.uuid}}-characteristics">
                    <table class="dataset keyvalue">
                        <thead>
                        <tr>
                            <th>uuid</th>
                            <th>name</th>
                            <th>type</th>
                            <th>properties</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="characteristic in service.characteristics">
                            <td><a scroll-to='service-{{service.uuid}}-characteristic-{{characteristic.uuid}}'>{{characteristic.uuid}}</a></td>
                            <td>{{characteristic.name}}</td>
                            <td>{{characteristic.type}}</td>
                            <td>
                                <ul>
                                    <li ng-repeat="property in characteristic.properties">{{property}}</li>
                                </ul>
                            </td>
                        </tr>
                        </tbody>
                    </table>


                    <div id="service-{{service.uuid}}-characteristic-{{characteristic.uuid}}" ng-repeat="characteristic in service.characteristics">
                        <h3>Characteristic with uuid: '{{characteristic.uuid}}' Informations</h3>

                        <table class="dataset keyvalue">
                            <thead>
                            <tr>
                                <th>uuid</th>
                                <th>name</th>
                                <th>type</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>{{characteristic.uuid}}</td>
                                <td>{{characteristic.name}}</td>
                                <td>{{characteristic.type}}</td>
                            </tr>
                            </tbody>
                        </table>

                        <h4>Descriptors</h4>

                        <div id="service-{{service.uuid}}-characteristic-{{characteristic.uuid}}-descriptors">
                            <table class="dataset keyvalue">
                                <thead>
                                <tr>
                                    <th>uuid</th>
                                    <th>name</th>
                                    <th>type</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="descriptor in characteristic.descriptors">
                                    <td>{{descriptor.uuid}}</td>
                                    <td>{{descriptor.name}}</td>
                                    <td>{{descriptor.type}}</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>


                </div>
            </div>

        </div>

    </div>

</div>